<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Nix + Home-manager for development environments in WSL | @atorizv</title><meta name=keywords content="tools,nix,wsl"><meta name=description content="Introduction- For some time now, I&rsquo;ve been searching the best way to create a reproducible development environment that avoids me the tedious task of installing and configuring my work tools over and over again, I&rsquo;m talking about you, VIM. I know there are several tools to manage the famous .dot files, but I wanted to find a way to group everything together. That&rsquo;s when I found Nix, a functional language that acts as a package manager and simplifies the creation of reproducible environments; there&rsquo;s even a Linux distribution that revolves around it, NixOs and as you might guess, it allows to configure and manager your system."><meta name=author content="@atorizv"><link rel=canonical href=https://canonical.url/to/page><link crossorigin=anonymous href=/assets/css/stylesheet.min.0260df62e834214c93ff4189c57bc2faa50f21482f9e5dc35736001a80e50f94.css integrity="sha256-AmDfYug0IUyT/0GJxXvC+qUPIUgvnl3DVzYAGoDlD5Q=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.b95bacdc39e37a332a9f883b1e78be4abc1fdca2bc1f2641f55e3cd3dabd4d61.js integrity="sha256-uVus3DnjejMqn4g7Hni+Srwf3KK8HyZB9V4809q9TWE=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://athansya.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://athansya.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://athansya.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://athansya.github.io/apple-touch-icon.png><link rel=mask-icon href=https://athansya.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.104.3"><link rel=alternate hreflang=en href=https://athansya.github.io/posts/tools/wsl/minimal_alpine_development_wsl/><link rel=alternate hreflang=es href=https://athansya.github.io/es/posts/tools/wsl/minimal_alpine_development_wsl/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.2.1/styles/dracula.min.css integrity="sha512-UPcL+5Ec/OV1+OGGgpK9ZS1NLz/sXczHAYUkSaSMQjgIYufontU+rYGAkK9B//Oze4cFTLfLnzNtsI+cG2FwjQ==" crossorigin=anonymous referrerpolicy=no-referrer><meta property="og:title" content="Nix + Home-manager for development environments in WSL"><meta property="og:description" content="Introduction- For some time now, I&rsquo;ve been searching the best way to create a reproducible development environment that avoids me the tedious task of installing and configuring my work tools over and over again, I&rsquo;m talking about you, VIM. I know there are several tools to manage the famous .dot files, but I wanted to find a way to group everything together. That&rsquo;s when I found Nix, a functional language that acts as a package manager and simplifies the creation of reproducible environments; there&rsquo;s even a Linux distribution that revolves around it, NixOs and as you might guess, it allows to configure and manager your system."><meta property="og:type" content="article"><meta property="og:url" content="https://athansya.github.io/posts/tools/wsl/minimal_alpine_development_wsl/"><meta property="og:image" content="https://athansya.github.io/feature.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-10T00:00:00+00:00"><meta property="article:modified_time" content="2022-05-10T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://athansya.github.io/feature.png"><meta name=twitter:title content="Nix + Home-manager for development environments in WSL"><meta name=twitter:description content="Introduction- For some time now, I&rsquo;ve been searching the best way to create a reproducible development environment that avoids me the tedious task of installing and configuring my work tools over and over again, I&rsquo;m talking about you, VIM. I know there are several tools to manage the famous .dot files, but I wanted to find a way to group everything together. That&rsquo;s when I found Nix, a functional language that acts as a package manager and simplifies the creation of reproducible environments; there&rsquo;s even a Linux distribution that revolves around it, NixOs and as you might guess, it allows to configure and manager your system."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://athansya.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Nix + Home-manager for development environments in WSL","item":"https://athansya.github.io/posts/tools/wsl/minimal_alpine_development_wsl/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Nix + Home-manager for development environments in WSL","name":"Nix \u002b Home-manager for development environments in WSL","description":"Introduction- For some time now, I\u0026rsquo;ve been searching the best way to create a reproducible development environment that avoids me the tedious task of installing and configuring my work tools over and over again, I\u0026rsquo;m talking about you, VIM. I know there are several tools to manage the famous .dot files, but I wanted to find a way to group everything together. That\u0026rsquo;s when I found Nix, a functional language that acts as a package manager and simplifies the creation of reproducible environments; there\u0026rsquo;s even a Linux distribution that revolves around it, NixOs and as you might guess, it allows to configure and manager your system.","keywords":["tools","nix","wsl"],"articleBody":" Introduction- For some time now, I‚Äôve been searching the best way to create a reproducible development environment that avoids me the tedious task of installing and configuring my work tools over and over again, I‚Äôm talking about you, VIM. I know there are several tools to manage the famous .dot files, but I wanted to find a way to group everything together. That‚Äôs when I found Nix, a functional language that acts as a package manager and simplifies the creation of reproducible environments; there‚Äôs even a Linux distribution that revolves around it, NixOs and as you might guess, it allows to configure and manager your system. After a couple days of trying to understand the syntax of the language, I accomplish my goal. Here‚Äôs how I did it.\nFirst steps WSL First of all, we have to enable and install Windows Subsytem for Linux (WSL). Let‚Äôs open PowerShell as administrator and run:\nwsl --install Note\nIf it does not allow you to do so, its most likely that your system has disable that option. To enable it, run:\nEnable-WindowsOptionalFeature -Online -FeatureName Microsoft-Windows-Subsystem-Linux Then, reboot your system.\nNow, let‚Äôs choose a distribution of your liking, in my case I chose Alpine for its lightness and not having bloatware. To see a list of available distributions for installation, run:\nwsl --list --online # Once you've selected one of your liking, run wsl --install --distribution In case you want another one, I suggest you to look up online. Once you have your distribution installed and have made the initial configuration (e.g. creating a user, password and updating your system sudo apt update \u0026\u0026 sudo apt upgrade), you will be ready to install Nix.\nNix Nix installation is pretty straight forward. Open WSL and run:\n1sh \u003c(curl -L https://nixos.org/nix/install) --no-daemon 2# To test your installation, run 3nix --version 4# Restart your session if necessary Home-Manager Okay, assuming you have a functional Nix installation, let‚Äôs move on with Home-Manager, a tool that will allow us to manage our user environment, allowing to declare the packages we want to install as well as their respective configurations.\nFirst, given we are not using NixOs, we need to run the following command:\nexport NIX_PATH=$HOME/.nix-defexpr/channels:/nix/var/nix/profiles/per-user/root/channels${NIX_PATH:+:$NIX_PATH} Then, let‚Äôs add a new package source and update the list:\n1nix-channel --add https://github.com/nix-community/home-manager/archive/master.tar.gz home-manager 2nix-channel --update Now, let‚Äôs install home-manager\nnix-shell '' -A install The only thing that‚Äôs left is editing home-manager configuration file located in $HOME/.config/nixpkgs/home.nix.\nSetting up our environment Editing home.nix may be as hard as you want it to be. It all depends on the level of customization your want to achieve. You may use the following code as a template to start:\n1{ config, pkgs, ... }: 2 3{ 4 # Home manager needs information about you 5\tand the directory it will manage 6\thome.username = \"\"; 7\thome.homeDirectory = \"/home/\"; 8 9\t# Optional ** Session variables 10\thome.sessionVariables = { 11\tEDITOR = \"\"; 12 }; 13 14\t# Packages to install without configuration 15\thome.packages = with pkgs; [ 16\t/* 17\t. 18\t. 19\t. 20\t*/ 21 ]; 22 23 # Packages to install and configure 24\tprograms = { 25\t/* 26\te.g 27\tgit = { 28 enable = true; 29 usernName = \"\"; 30 userEmail = \"\"; 31 }; 32\t. 33\t. 34\t. 35\t*/ 36 }; 37 38 39\t/* This value determines the Home Manager release that your 40\tconfiguration is compatible with. This helps avoid breakage 41\twhen a new Home Manager release introduces backwards 42\tincompatible changes. 43 44\tYou can update Home Mangaer without changing this value. See 45\tthe Home Manager release notes for a list of state version 46\tchanges in each release. 47\t*/ 48\thome.stateVersion = \"22.05\"; 49 50 # let Home Manager install and manage itself. 51\tprograms.home-manager.enable = true; 52} You can use NixOs wiki and its search bar to find packages and their respective configuration options. At the end, you could end up with a file like mine. Once you‚Äôve finished, you need to activate your new configuration:\nhome-manager switch And that‚Äôs all, you now have a functional development environment. I recommend you to create a repository to make it accesible from different machines.\nFinal notes To wrap things up, I would like to talk about the concept of generation. Every time we make a change in our configuration, in both Nix and Home Manager, a new generation is produced. In case we have a problem with the new changes, we can always go back to the previous version (rollback). To list and manipulate the generations available in our system we use the following commands:\nNix\n1# List generations 2nix-env --list-generations 3 4# Rollback to previous gen 5nix-env --rollback 6 7# Change to a specific gen 8nix-env --switch-generation 9 10# Delete certain gens 11nix-env --delete-generations 12 13# Delete certain gens except the las 14nix-env --delete-generations + 15 16# Delete all gens except for the current one 17nix-env --delete-generations old 18 19# Garbage collection 20nix-collect-garbage Home Manager\n1# List generations 2home-manager generations 3 4# Delete certain gens 5home-manager remove-generations 6 7# Delete gens before (e.g. -30 days) 8home-manager expire-generations Info\nIt is not currently possible to change generations in home-manager with a simple command, but the way of doing it is the following:\nList generations and identify the ID of your liking: home-manager generations Copy the ID‚Äôs path -\u003e (e.g./nix/store/kahm1rxk77mnvd2l8pfvd4jkkffk5ijk-home-manager-generation) Run the activate script located in: /nix/store/kahm1rxk77mnvd2l8pfvd4jkkffk5ijk-home-manager-generation/activate. References NixOs, ‚ÄúGetting Nix / NixOs‚Äù n.d. [Online]. Available: https://nixos.org/download.html#nix-install-windows. NixOs Wiki, ‚ÄúHome Manager‚Äù n.d. [Online]. Available: https://nixos.wiki/wiki/Home_Manager. Nix Community, ‚ÄúHome Manager Manual‚Äù n.d. [Online]. Available: https://nix-community.github.io/home-manager/. F. Mouaffo, ‚ÄúNix introduction, Main Concepts and commands‚Äù Adaltas 01-Feb-2022. [Online]. Available: https://www.adaltas.com/en/2022/02/01/nix-introduction/. C. Bailey, ‚ÄúA minimal development environment on WSL‚Äù 04-Apr-2021. [Online]. Available: https://cbailey.co.uk/posts/a_minimal_nix_development_environment_on_wsl. M. Gheda, ‚ÄúTutorial: Getting started with Home Manager for Nix‚Äù 05-April-2021. [Online]. Available: https://ghedam.at/24353/tutorial-getting-started-with-home-manager-for-nix NixOs Wiki, ‚ÄúNix Cookbook: Managing storage‚Äù n.d. [Online]. Available: https://nixos.wiki/wiki/Nix_Cookbook. A. Pearce, ‚ÄúManaging dotfiles with Nix‚Äù 27-Jul-2021. [Online]. Available: https://alexpearce.me/2021/07/managing-dotfiles-with-nix/. ","wordCount":"1010","inLanguage":"en","datePublished":"2022-05-10T00:00:00Z","dateModified":"2022-05-10T00:00:00Z","author":{"@type":"Person","name":"@atorizv"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://athansya.github.io/posts/tools/wsl/minimal_alpine_development_wsl/"},"publisher":{"@type":"Organization","name":"@atorizv","logo":{"@type":"ImageObject","url":"https://athansya.github.io/favicon.ico"}}}</script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://athansya.github.io accesskey=h title="@atorizv (Alt + H)">@atorizv</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://athansya.github.io/es/ title="Haz click para cambiar el idioma" aria-label=üá≤üáΩ>üá≤üáΩ</a></li></ul></span></div><ul id=menu><li><a href=https://athansya.github.io/about/ title="About me"><span>About me</span></a></li><li><a href=https://athansya.github.io/series title=Series><span>Series</span></a></li><li><a href=https://athansya.github.io/tags title=Tags><span>Tags</span></a></li><li><a href=https://athansya.github.io/archives title=Archive><span>Archive</span></a></li><li><a href=https://athansya.github.io/search title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav><link rel="shortcut icon" href=/favicon.ico><link rel=icon type=image/png href=/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicon-32x32.png sizes=32x32><meta name=mobile-web-app-capable content="yes"><link rel=icon type=image/png href=/android-chrome-192x192.png sizes=192x192><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="yes"><meta name=apple-mobile-web-app-title content="@atorizv"><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Nix + Home-manager for development environments in WSL</h1><div class=post-meta>May 10, 2022&nbsp;¬∑&nbsp;5 min&nbsp;¬∑&nbsp;@atorizv&nbsp;|&nbsp;<ul class=i18n_list>Translations:<li><a href=https://athansya.github.io/es/posts/tools/wsl/minimal_alpine_development_wsl/>üá≤üáΩ</a></li></ul></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><div class=details>Table of Contents</div></summary><div class=inner><ul><li><a href=#introduction- aria-label=Introduction->Introduction-</a></li><li><a href=#first-steps aria-label="First steps">First steps</a><ul><li><a href=#wsl aria-label=WSL>WSL</a></li><li><a href=#nix aria-label=Nix>Nix</a></li><li><a href=#home-manager aria-label=Home-Manager>Home-Manager</a></li></ul></li><li><a href=#setting-up-our-environment aria-label="Setting up our environment">Setting up our environment</a></li><li><a href=#final-notes aria-label="Final notes">Final notes</a></li><li><a href=#references aria-label=References>References</a></li></ul></div></details></div><div class=post-content><div style=text-align:justify><h1 id=introduction->Introduction-<a hidden class=anchor aria-hidden=true href=#introduction->#</a></h1><p>For some time now, I&rsquo;ve been searching the best way to create a reproducible development environment that avoids me the tedious task of installing and configuring my work tools over and over again, I&rsquo;m talking about you, VIM. I know there are several tools to manage the famous <code>.dot</code> files, but I wanted to find a way to group everything together. That&rsquo;s when I found <strong>Nix</strong>, a functional language that acts as a package manager and simplifies the creation of reproducible environments; there&rsquo;s even a Linux distribution that revolves around it, <a href=https://nixos.org/><strong>NixOs</strong></a> and as you might guess, it allows to configure and manager your system. After a couple days of trying to understand the syntax of the language, I accomplish my goal. Here&rsquo;s how I did it.</p><h1 id=first-steps>First steps<a hidden class=anchor aria-hidden=true href=#first-steps>#</a></h1><h2 id=wsl>WSL<a hidden class=anchor aria-hidden=true href=#wsl>#</a></h2><p>First of all, we have to enable and install <strong>Windows Subsytem for Linux</strong> (WSL). Let&rsquo;s open <strong>PowerShell</strong> as administrator and run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>wsl --install
</span></span></code></pre></div><style type=text/css>.notice{padding:18px;line-height:24px;margin-bottom:24px;border-radius:4px;color:#444;background:#e7f2fa}.notice p:last-child{margin-bottom:0}.notice-title{margin:-18px -18px 12px;padding:4px 18px;border-radius:4px 4px 0 0;font-weight:700;color:#fff;background:#6ab0de}.notice.warning .notice-title{background:rgba(217,83,79,.9)}.notice.warning{background:#fae2e2}.notice.info .notice-title{background:#f0b37e}.notice.info{background:#fff2db}.notice.note .notice-title{background:#6ab0de}.notice.note{background:#e7f2fa}.notice.tip .notice-title{background:rgba(92,184,92,.8)}.notice.tip{background:#e6f9e6}.icon-notice{display:inline-flex;align-self:center;margin-right:8px}.icon-notice img,.icon-notice svg{height:1em;width:1em;fill:currentColor}.icon-notice img,.icon-notice.baseline svg{top:.125em;position:relative}</style><svg width="0" height="0" display="none" xmlns="http://www.w3.org/2000/svg"><symbol id="tip-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379.0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628.0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628.0l-22.627 22.627c-6.248 6.248-6.248 16.379.0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"/></symbol><symbol id="note-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="warning-notice" viewBox="0 0 576 512" preserveAspectRatio="xMidYMid meet"><path d="M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937.0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154.0l239.94 416.028zM288 354c-25.405.0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346 7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373.0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884.0-12.356 5.78-11.981 12.654z"/></symbol><symbol id="info-notice" viewBox="0 0 512 512" preserveAspectRatio="xMidYMid meet"><path d="M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196.0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627.0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627.0 12 5.373 12 12v1e2h12c6.627.0 12 5.373 12 12v24z"/></symbol></svg><div class="notice note"><p class="first notice-title"><span class="icon-notice baseline"><svg><use href="#note-notice"/></svg></span>Note</p><p>If it does not allow you to do so, its most likely that your system has disable that option. To enable it, run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>Enable-WindowsOptionalFeature</span> -Online -FeatureName <span style=color:#8be9fd;font-style:italic>Microsoft-Windows</span>-Subsystem-Linux
</span></span></code></pre></div><p>Then, reboot your system.</p></div><p>Now, let&rsquo;s choose a distribution of your liking, in my case I chose <a href=https://github.com/yuk7/AlpineWSL>Alpine</a> for its lightness and not having bloatware. To see a list of available distributions for installation, run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-powershell data-lang=powershell><span style=display:flex><span>wsl --list --online
</span></span><span style=display:flex><span><span style=color:#6272a4># Once you&#39;ve selected one of your liking, run</span>
</span></span><span style=display:flex><span>wsl --install --distribution &lt;Name&gt;
</span></span></code></pre></div><p>In case you want another one, I suggest you to look up online. Once you have your distribution installed and have made the initial configuration (e.g. creating a user, password and updating your system <code>sudo apt update && sudo apt upgrade</code>), you will be ready to install <strong>Nix</strong>.</p><h2 id=nix>Nix<a hidden class=anchor aria-hidden=true href=#nix>#</a></h2><p>Nix installation is pretty straight forward. Open WSL and run:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>sh &lt;<span style=color:#ff79c6>(</span>curl -L https://nixos.org/nix/install<span style=color:#ff79c6>)</span> --no-daemon
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span><span style=color:#6272a4># To test your installation, run</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>nix --version
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span><span style=color:#6272a4># Restart your session if necessary</span>
</span></span></code></pre></div><h2 id=home-manager>Home-Manager<a hidden class=anchor aria-hidden=true href=#home-manager>#</a></h2><p>Okay, assuming you have a functional <strong>Nix</strong> installation, let&rsquo;s move on with <strong>Home-Manager</strong>, a tool that will allow us to manage our user environment, allowing to declare the packages we want to install as well as their respective configurations.</p><p>First, given we are not using NixOs, we need to run the following command:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>export</span> <span style=color:#8be9fd;font-style:italic>NIX_PATH</span><span style=color:#ff79c6>=</span><span style=color:#8be9fd;font-style:italic>$HOME</span>/.nix-defexpr/channels:/nix/var/nix/profiles/per-user/root/channels<span style=color:#f1fa8c>${</span><span style=color:#8be9fd;font-style:italic>NIX_PATH</span>:+:<span style=color:#8be9fd;font-style:italic>$NIX_PATH</span><span style=color:#f1fa8c>}</span>
</span></span></code></pre></div><p>Then, let&rsquo;s add a new package source and update the list:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>nix-channel --add https://github.com/nix-community/home-manager/archive/master.tar.gz home-manager
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>nix-channel --update
</span></span></code></pre></div><p>Now, let&rsquo;s install home-manager</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>nix-shell <span style=color:#f1fa8c>&#39;&lt;home-manager&gt;&#39;</span> -A install
</span></span></code></pre></div><p>The only thing that&rsquo;s left is editing home-manager configuration file located in <code>$HOME/.config/nixpkgs/home.nix</code>.</p><h1 id=setting-up-our-environment>Setting up our environment<a hidden class=anchor aria-hidden=true href=#setting-up-our-environment>#</a></h1><p>Editing <code>home.nix</code> may be as hard as you want it to be. It all depends on the level of customization your want to achieve. You may use the following code as a template to start:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-nix data-lang=nix><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>{ config<span style=color:#ff79c6>,</span> pkgs<span style=color:#ff79c6>,</span> <span style=color:#ff79c6>...</span> }:
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>{
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>  <span style=color:#6272a4># Home manager needs information about you</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>	and the directory it will manage
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>	home<span style=color:#ff79c6>.</span>username <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;&lt;user&gt;&#34;</span>;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>	home<span style=color:#ff79c6>.</span>homeDirectory <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;/home/&lt;user&gt;&#34;</span>;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>	<span style=color:#6272a4># Optional ** Session variables</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>	home<span style=color:#ff79c6>.</span>sessionVariables <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>	  EDITOR <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;&lt;TextEditor&gt;&#34;</span>;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>    };
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>	<span style=color:#6272a4># Packages to install without configuration </span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>	home<span style=color:#ff79c6>.</span>packages <span style=color:#ff79c6>=</span> <span style=color:#ff79c6>with</span> pkgs; [
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span>	  <span style=color:#6272a4>/* 
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span><span style=color:#6272a4>		.
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span><span style=color:#6272a4>		.
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span><span style=color:#6272a4>		.
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span><span style=color:#6272a4>		*/</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span>    ];
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span>  <span style=color:#6272a4># Packages to install and configure</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span>	programs <span style=color:#ff79c6>=</span> {
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span><span>	  <span style=color:#6272a4>/*
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26</span><span><span style=color:#6272a4>		e.g
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27</span><span><span style=color:#6272a4>		git = {
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28</span><span><span style=color:#6272a4>          enable = true;
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29</span><span><span style=color:#6272a4>          usernName = &#34;&lt;user&gt;&#34;;
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30</span><span><span style=color:#6272a4>          userEmail = &#34;&lt;email&gt;&#34;;
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31</span><span><span style=color:#6272a4>        };
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32</span><span><span style=color:#6272a4>		.
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33</span><span><span style=color:#6272a4>		.
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34</span><span><span style=color:#6272a4>		.
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35</span><span><span style=color:#6272a4>		*/</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36</span><span>    };
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39</span><span>	<span style=color:#6272a4>/* This value determines the Home Manager release that your
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40</span><span><span style=color:#6272a4>	configuration is compatible with. This helps avoid breakage
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41</span><span><span style=color:#6272a4>	when a new Home Manager release introduces backwards
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42</span><span><span style=color:#6272a4>	incompatible changes.
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43</span><span><span style=color:#6272a4>
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44</span><span><span style=color:#6272a4>	You can update Home Mangaer without changing this value. See
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45</span><span><span style=color:#6272a4>	the Home Manager release notes for a list of state version
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46</span><span><span style=color:#6272a4>	changes in each release.
</span></span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47</span><span><span style=color:#6272a4>	*/</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48</span><span>	home<span style=color:#ff79c6>.</span>stateVersion <span style=color:#ff79c6>=</span> <span style=color:#f1fa8c>&#34;22.05&#34;</span>;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50</span><span>  <span style=color:#6272a4># let Home Manager install and manage itself.</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">51</span><span>	programs<span style=color:#ff79c6>.</span>home-manager<span style=color:#ff79c6>.</span>enable <span style=color:#ff79c6>=</span> true;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">52</span><span>}
</span></span></code></pre></div><p>You can use <a href=https://nixos.wiki/>NixOs wiki</a> and its <a href=https://search.nixos.org/packages>search bar</a> to find packages and their respective configuration options. At the end, you could end up with a file like <a href=https://github.com/Athansya/nixfiles/blob/main/home.nix>mine</a>. Once you&rsquo;ve finished, you need to activate your new configuration:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>home-manager switch
</span></span></code></pre></div><p>And that&rsquo;s all, you now have a functional development environment. I recommend you to create a repository to make it accesible from different machines.</p><h1 id=final-notes>Final notes<a hidden class=anchor aria-hidden=true href=#final-notes>#</a></h1><p>To wrap things up, I would like to talk about the concept of generation. Every time we make a change in our configuration, in both <strong>Nix</strong> and <strong>Home Manager</strong>, a new generation is produced. In case we have a problem with the new changes, we can always go back to the previous version (rollback). To list and manipulate the generations available in our system we use the following commands:</p><p><strong>Nix</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span><span style=color:#6272a4># List generations</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>nix-env --list-generations
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span><span style=color:#6272a4># Rollback to previous gen</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>nix-env --rollback
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span><span style=color:#6272a4># Change to a specific gen</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>nix-env --switch-generation &lt;id-generaci√≥n&gt;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span><span style=color:#6272a4># Delete certain gens</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>nix-env --delete-generations &lt;id-generaciones separados por espacios&gt;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span><span style=color:#6272a4># Delete certain gens except the las &lt;N&gt;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>nix-env --delete-generations +&lt;N&gt;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span><span style=color:#6272a4># Delete all gens except for the current one</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>nix-env --delete-generations old
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span><span style=color:#6272a4># Garbage collection</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span>nix-collect-garbage
</span></span></code></pre></div><p><strong>Home Manager</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span><span style=color:#6272a4># List generations</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2</span><span>home-manager generations
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4</span><span><span style=color:#6272a4># Delete certain gens</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5</span><span>home-manager remove-generations &lt;id-generaciones separados por espacios&gt;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6</span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7</span><span><span style=color:#6272a4># Delete gens before &lt;timestamp&gt; (e.g. -30 days)</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8</span><span>home-manager expire-generations &lt;timestamp&gt;
</span></span></code></pre></div><div class="notice info"><p class="first notice-title"><span class="icon-notice baseline"><svg><use href="#info-notice"/></svg></span>Info</p><p>It is not currently possible to change generations in home-manager with a simple command, but the way of doing it is the following:</p><ol><li>List generations and identify the ID of your liking: <code>home-manager generations</code></li><li>Copy the ID&rsquo;s path -> (e.g.<code>/nix/store/kahm1rxk77mnvd2l8pfvd4jkkffk5ijk-home-manager-generation</code>)</li><li>Run the <code>activate</code> script located in: <code>/nix/store/kahm1rxk77mnvd2l8pfvd4jkkffk5ijk-home-manager-generation/activate</code>.</li></ol></div><h1 id=references>References<a hidden class=anchor aria-hidden=true href=#references>#</a></h1><ul><li>NixOs, <strong>&ldquo;Getting Nix / NixOs&rdquo;</strong> n.d. [Online]. Available: <a href=https://nixos.org/download.html#nix-install-windows>https://nixos.org/download.html#nix-install-windows</a>.</li><li>NixOs Wiki, <strong>&ldquo;Home Manager&rdquo;</strong> n.d. [Online]. Available: <a href=https://nixos.wiki/wiki/Home_Manager>https://nixos.wiki/wiki/Home_Manager</a>.</li><li>Nix Community, <strong>&ldquo;Home Manager Manual&rdquo;</strong> n.d. [Online]. Available: <a href=https://nix-community.github.io/home-manager/>https://nix-community.github.io/home-manager/</a>.</li><li>F. Mouaffo, <strong>&ldquo;Nix introduction, Main Concepts and commands&rdquo;</strong> Adaltas 01-Feb-2022. [Online]. Available: <a href=https://www.adaltas.com/en/2022/02/01/nix-introduction/>https://www.adaltas.com/en/2022/02/01/nix-introduction/</a>.</li><li>C. Bailey, <strong>&ldquo;A minimal development environment on WSL&rdquo;</strong> 04-Apr-2021. [Online]. Available: <a href=https://cbailey.co.uk/posts/a_minimal_nix_development_environment_on_wsl>https://cbailey.co.uk/posts/a_minimal_nix_development_environment_on_wsl</a>.</li><li>M. Gheda, <strong>&ldquo;Tutorial: Getting started with Home Manager for Nix&rdquo;</strong> 05-April-2021. [Online]. Available: <a href=https://ghedam.at/24353/tutorial-getting-started-with-home-manager-for-nix>https://ghedam.at/24353/tutorial-getting-started-with-home-manager-for-nix</a></li><li>NixOs Wiki, <strong>&ldquo;Nix Cookbook: Managing storage&rdquo;</strong> n.d. [Online]. Available: <a href=https://nixos.wiki/wiki/Nix_Cookbook>https://nixos.wiki/wiki/Nix_Cookbook</a>.</li><li>A. Pearce, <strong>&ldquo;Managing dotfiles with Nix&rdquo;</strong> 27-Jul-2021. [Online]. Available: <a href=https://alexpearce.me/2021/07/managing-dotfiles-with-nix/>https://alexpearce.me/2021/07/managing-dotfiles-with-nix/</a>.</li></ul></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://athansya.github.io/tags/tools/>tools</a></li><li><a href=https://athansya.github.io/tags/nix/>nix</a></li><li><a href=https://athansya.github.io/tags/wsl/>wsl</a></li></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Nix + Home-manager for development environments in WSL on twitter" href="https://twitter.com/intent/tweet/?text=Nix%20%2b%20Home-manager%20for%20development%20environments%20in%20WSL&url=https%3a%2f%2fathansya.github.io%2fposts%2ftools%2fwsl%2fminimal_alpine_development_wsl%2f&hashtags=tools%2cnix%2cwsl"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Nix + Home-manager for development environments in WSL on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fathansya.github.io%2fposts%2ftools%2fwsl%2fminimal_alpine_development_wsl%2f&title=Nix%20%2b%20Home-manager%20for%20development%20environments%20in%20WSL&summary=Nix%20%2b%20Home-manager%20for%20development%20environments%20in%20WSL&source=https%3a%2f%2fathansya.github.io%2fposts%2ftools%2fwsl%2fminimal_alpine_development_wsl%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Nix + Home-manager for development environments in WSL on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fathansya.github.io%2fposts%2ftools%2fwsl%2fminimal_alpine_development_wsl%2f&title=Nix%20%2b%20Home-manager%20for%20development%20environments%20in%20WSL"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Nix + Home-manager for development environments in WSL on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fathansya.github.io%2fposts%2ftools%2fwsl%2fminimal_alpine_development_wsl%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Nix + Home-manager for development environments in WSL on whatsapp" href="https://api.whatsapp.com/send?text=Nix%20%2b%20Home-manager%20for%20development%20environments%20in%20WSL%20-%20https%3a%2f%2fathansya.github.io%2fposts%2ftools%2fwsl%2fminimal_alpine_development_wsl%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Nix + Home-manager for development environments in WSL on telegram" href="https://telegram.me/share/url?text=Nix%20%2b%20Home-manager%20for%20development%20environments%20in%20WSL&url=https%3a%2f%2fathansya.github.io%2fposts%2ftools%2fwsl%2fminimal_alpine_development_wsl%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer><div id=disqus_thread></div><script>(function(){var e=document,t=e.createElement("script");t.src="https://atorizv.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></article></main><footer class=footer><span>&copy; 2022 <a href=https://athansya.github.io>@atorizv</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById("menu");menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>